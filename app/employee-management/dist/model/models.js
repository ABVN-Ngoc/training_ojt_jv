sap.ui.define(["sap/ui/model/json/JSONModel","sap/ui/Device"],function(e,t){"use strict";return{createDeviceModel:function(){var n=new e(t);n.setDefaultBindingMode("OneWay");return n},setGlobalModel:function(e){let t=[{key:"male",text:"Male"},{key:"female",text:"Female"}];this._setModel(e,t,"Gender")},setInitVisibleControl:function(e){const t={Home:true,List:false,Detail:false,InputForm:false};const n={ID:"",firstName:"",lastName:"",email:"",gender:"",dateOfBirth:"",hireDate:"",salary:0,performanceRating:"",department:{ID:""},role:{ID:""}};this._setModel(e,t,"VisibleControl");this._setModel(e,n,"EmployeeInput")},getEmployee:async function(e){e.byId("table").setBusy(true);try{const t=await fetch("/odata/v4/ngoc123/Employees?$expand=role,department",{method:"GET",headers:{"Content-Type":"application/json"}});if(t.status==200){let n=await t.json();let o=n.value;this._setModel(e,o,"EmployeeList");e.byId("table").setBusy(false);return o}else{const n=await t.json();const o=n.error;this.onShowErrorMessageBox("Error",o,null);e.byId("table").setBusy(false);return null}}catch(t){e.byId("table").setBusy(false);return null}},getRole:async function(e){try{const t=await fetch("/odata/v4/ngoc123/Roles",{method:"GET",headers:{"Content-Type":"application/json"}});if(t.status==200){let n=await t.json();let o=n.value;this._setModel(e,o,"Role");return o}else{const e=await t.json();const n=e.error;this.onShowErrorMessageBox("Error",n,null);return null}}catch(e){return null}},getDepartment:async function(e){try{const t=await fetch("/odata/v4/ngoc123/Departments",{method:"GET",headers:{"Content-Type":"application/json"}});if(t.status==200){let n=await t.json();let o=n.value;this._setModel(e,o,"Department");return o}else{const e=await t.json();const n=e.error;this.onShowErrorMessageBox("Error",n,null);return null}}catch(e){return null}},getEmployeeInfo:async function(e){try{const t=await fetch("/odata/v4/ngoc123/Employees",{method:"GET",headers:{"Content-Type":"application/json"}});if(t.status==200){let n=await t.json();let o=n.value;this._setModel(e,o,"EmployeeInfo");return o}else{const e=await t.json();const n=e.error;this.onShowErrorMessageBox("Error",n,null);return null}}catch(e){return null}},createEmployee:async function(e,t){e.setBusy(true);e.byId("btnEdit").setBusy(true).setEnabled(false);const n=this._getModel(e,"RoleInfo").getData();const o=n.token;const s="/odata/v4/ngoc123/Employees";try{const n=await fetch(s,{method:"POST",headers:{Authorization:"Bearer "+rawToken,"Content-Type":"application/json"},body:JSON.stringify(t)});e.setBusy(false);return n}catch(t){e.setBusy(false)}},updateEmployeeInfo:async function(e,t,n){e.setBusy(true);e.byId("btnEdit").setBusy(true).setEnabled(false);let o="/odata/v4/ngoc123/Employees('"+n+"')";try{const n=await fetch(o,{method:"PATCH",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)});e.setBusy(false);e.byId("btnEdit").setBusy(false).setEnabled(true);return n}catch(t){e.byId("btnEdit").setBusy(false).setEnabled(true);e.setBusy(false)}},deleteEmployeeInfo:async function(e,t){e.byId("table").setBusy(true);let n="/odata/v4/ngoc123/Employees('"+t+"')";try{const t=await fetch(n,{method:"DELETE",headers:{"Content-Type":"application/json"}});e.byId("table").setBusy(false);return t}catch(t){e.byId("table").setBusy(false)}},getRoleLogin:async function(e){try{const t=await fetch("/odata/v4/ngoc123/getRole",{method:"GET",headers:{"Content-Type":"application/json"}});if(t.status==200){let n=await t.json();console.log("oJsonResponse",n);const o=n.value;let s={admin:false,employee:false};if(o.includes("admin")){s={admin:true,employee:false}}else{s={admin:false,employee:true}}console.log("oRoleInfo",s);this._setModel(e,s,"RoleInfo");return t}}catch(e){return null}},_setModel:function(t,n,o){t.setModel(new e(n),o)},_getModel:function(e,t){let n=e.getModel(t);return n},_getTextI18n:function(e){let t=i18n.getText(e);return t}}});
//# sourceMappingURL=models.js.map